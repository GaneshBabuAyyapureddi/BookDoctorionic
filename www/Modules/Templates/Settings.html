
<ion-view hide-nav-bar="false" class="bar-balanced">
  <ion-nav-bar class="navi-bar" >
   <ion-nav-buttons side="left">  
       <button class="button  button-icon light icon icon-left ion-navicon" menu-toggle="left" ></button>  
 </ion-nav-buttons>
  </ion-nav-bar >
  <ion-header-bar class="bar bar-header bar-calm" style="background-color: {{appTheme}}; background-size: 100% 0px;">
<!--     <button class="button button-icon icon ion-android-arrow-back" style="color: #E4E4E4" ng-click="goBack()"></button> -->

    <div style="color: #FFFFFF;text-align: center;" class="title">SETTINGS</div>
  </ion-header-bar>
   <ion-content scroll="false">
   	<div class="item item-icon-right" ng-click="openPasswordModal()">Change Password
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
    </div>
    <div class="item item-icon-right" ng-click="goEditProfile()">Edit Profile
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
    </div>
    <div class="item item-icon-right" ng-click="openThemeModal()">Change Theme
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
    </div>
    <div class="item item-icon-right" ng-click="openHelpScreen()">Help
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
    </div>
    <li class="item item-toggle">Notification
       <label class="toggle toggle-{{tabsTheme}}">
         <input type="checkbox">
         <div class="track">
           <div class="handle"></div>
         </div>
       </label>
    </li>
    <div class="item item-icon-right" ng-click="showLogoutConfirm()">
      Logout
      <i class="icon ion-log-out" style="font-size: 25px;"></i>
    </div>
   </ion-content>

   <script id="password-modal.html" type="text/ng-template">
      <ion-modal-view>
        <ion-header-bar class="bar bar-header bar-calm" style="background-color:{{appTheme}};background-image: none;">
          <h1 class="title" style="text-align: center;">Change Password</h1>
           <button class = "button button-icon icon-right ion-ios-close-outline" style="background-color:{{appTheme}}"
            ng-click = "closePasswordModal()"></button>
        </ion-header-bar>
        <ion-content>
          <form novalidate name="profileForm" ng-class="{ 'ng-pwd-mismatch' : (newCustomer.password != newCustomer.confPassword && !newCustomer.isRegistered) }" ng-submit="saveUserPersonalInfo()">
                <div class="card" style="margin-left: auto;margin-right: auto;">



                   <label class="item item-input item-floating-label " style="width=90%;"  ng-class="{ 'has-errors' : profileForm.oldPassword.$invalid && profileForm.oldPassword.$touched , 'no-errors' : profileForm.oldPassword.$valid}">
                       <span class="input-label" >Old Password</span>
                       <input type='password' style="height: 35px; width=90%;" name="oldPassword" placeholder="Old Password *" ng-model="data.oldPassword" ng-minlength="5" required>

                        
                    </label>
                    <div class="error-container">
                          <div  style="text-align: center;" ng-show="profileForm.oldPassword.$error.required" >Please enter your old password</div>
                          <div  style="text-align: center;" ng-show="profileForm.oldPassword.$error.minlength" >Not a valid password</div>
                       </div>
                        

                       <label class="item item-input item-floating-label " ng-class="{ 'has-errors' : profileForm.newPassword.$invalid && profileForm.newPassword.$touched , 'no-errors' : profileForm.newPassword.$valid}">
                       <span class="input-label">New Password</span>
                       <input type='password' style="height: 35px; width:70%;" name="newPassword" placeholder="New Password *" ng-model="data.newPassword" ng-minlength="5" required>

                       
                       </label>
                    <div class="error-container">
                          <div  style="text-align: center;" ng-show="profileForm.newPassword.$error.required" >Please enter your new password</div>
                          <div  style="text-align: center;" ng-show="profileForm.newPassword.$error.minlength" >Not a valid password</div>
                       </div> 
                        

                        <label class="item item-input item-floating-label " ng-class="{ 'has-errors' : profileForm.confPassword.$invalid && profileForm.confPassword.$touched , 'no-errors' : profileForm.confPassword.$valid}">
                       <span class="input-label">Confirm Password</span>
                       <input type='password' style="height: 35px; width:70%;" name="confPassword" placeholder="Confirm Password *" ng-model="data.confPassword" ng-minlength="5" required>
                       
                       </label>
                    <div class="error-container">
                          <div  style="text-align: center;" ng-show="profileForm.confPassword.$error.required" >Please confirm your new password</div>
                          <div ng-show="profileForm.confPassword.$error.minlength" >Not a valid password</div>
                       </div>
                        


                <div align="center" style="margin-top:50px">
                  <button type = "submit" class="button button-assertive" style="width: 70%;margin:10px;background-color:{{combinationTheme}}"  ng-click="validatePassword(data)">Submit</button>
                </div>
                </div>

                
        </ion-content>
      
      </ion-modal-view>
    </script>


<!-- 
         <ion-item item="item" class="item-input cust-form-item"  ng-hide="newCustomer.isRegistered">
                    <input type="password" placeholder="Password *" name="ccpwd" id="ccpwd" ng-model="newCustomer.password" required ng-minlength="8" ng-pattern="/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])\w{8,}$/"/>
                    
                    <i class="icon ion-android-checkmark" ng-hide="profileForm.ccpwd.$invalid"></i>

                    <i class="icon ion-ios7-information" ng-show="profileForm.ccpwd.$invalid && profileForm.ccpwd.$dirty"></i>

                </ion-item>
                <ion-item item="item" class="item-input cust-form-item"  ng-hide="newCustomer.isRegistered">
                    <input type="password" placeholder="Confirm Password *" name="ccrepwd" id="ccrepwd" ng-model="newCustomer.confPassword" required ng-minlength="8"/>
                    
                    <i class="icon ion-android-checkmark" ng-hide="profileForm.ccrepwd.$invalid || (newCustomer.password != newCustomer.confPassword)"></i>

                    <i class="icon ion-ios7-information" ng-show="profileForm.ccrepwd.$invalid && profileForm.ccrepwd.$dirty && (newCustomer.password != newCustomer.confPassword)"></i>

                </ion-item>
 -->


       <script id="change-theme.html" type="text/ng-template">
      <ion-modal-view>
      <ion-header-bar class="bar bar-header bar-calm" style="background-color:{{appTheme}};background-image: none;" >
          <h1 class="title" style="text-align: center;">Select your Theme</h1>
           <button class = "button button-icon icon-right ion-ios-close-outline" style="background-color:{{appTheme}}"
            ng-click = "closeModal()"></button>
        </ion-header-bar>
     <ion-content>
       <div class="item item-icon-right" ng-click="blueDialog()">Default Theme
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
       </div>
       <div class="item item-icon-right" ng-click="yellowDialog()">Yellow Theme
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
       </div>
    <div class="item item-icon-right" ng-click="redDialog()">Red Theme
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
    </div>
    <div class="item item-icon-right" ng-click="greenDialog()">Green Theme
      <i class="icon ion-ios-arrow-right" style="font-size: 25px;"></i>
    </div>
    </ion-content>
      </ion-modal-view>
    </script>

     <script id="open-help.html" type="text/ng-template">
      <ion-modal-view>
      <ion-header-bar class="bar bar-header bar-calm" style="background-color:{{appTheme}}" >
          <h1 class="title" style="text-align: center;">Help</h1>
           <button class = "button icon icon-right ion-ios-close-outline" style="background-color:{{appTheme}}"
            ng-click = "closeHelpModal()"></button>
        </ion-header-bar>
     <ion-content>
      
      <h3> Welcome to Help screen...</h3>
    </ion-content>
      </ion-modal-view>
    </script>